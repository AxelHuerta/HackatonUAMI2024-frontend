---
import {
  Card,
  CardContent,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Skeleton } from "@/components/ui/skeleton";
import Layout from "../layouts/Layout.astro";

const data = await fetch("https://jsonplaceholder.typicode.com/posts").then(
  (response) => {
    if (response.ok) {
      return response.json();
    }
  }
);

const products = data;
---

<Layout title="Productos">
  <section class="pt-24">
    <h1 class="text-6xl font-bold my-12 text-center">Productos</h1>
    <div class="grid grid-cols-2 gap-4 m-auto max-w-[1400px]">
      {
        // TODO: any
        products.map((product: any) => {
          return (
            <Card>
              <CardHeader>
                <Skeleton className="w-full h-[300px]" />
              </CardHeader>
              <CardContent>
                <CardTitle>{product.title}</CardTitle>
                <CardDescription>{product.body}</CardDescription>
              </CardContent>
              <CardFooter>
                <Button className="font-bold text-lg">Ver</Button>
              </CardFooter>
            </Card>
          );
        })
      }
    </div>
  </section>
</Layout>
